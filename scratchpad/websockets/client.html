<!DOCTYPE html>
<html>
    <head>
        <title>WebSocket demo</title>
        <script type="text/javascript" src="../gamepad/lib/ThrusterClient.js"></script>
        <script type="text/javascript">
            var client;

            function go() {
                client = new ThrusterClient(sendData);

                client.message = receiveData;
            }

            function sendData(evt) {
                let value = Math.random() * 2.0 - 1.0;

                client.sendMessage(0, 1, 0, value);
            }

            function receiveData(evt) {
                console.log(evt.data);
                setTimeout(sendData, 1000);
            }
        </script>
    </head>
    <body onload="go()">

    </body>
</html>